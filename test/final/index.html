<!DOCTYPE html>
<html lang="en" style="max-width: 1251px;">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../../../angular/angular-1.8.2/angular.min.js"></script>
    <script src="../../../angular/angular-1.8.2/angular-route.js"></script>

    <link rel="stylesheet" href="../../../bootstrap-5.3.3-dist/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="shortcut icon" type="image/png" href="asm/img/plane-solid.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="../../../bootstrap-5.3.3-dist/jquery/jquery.min.js"></script>
    <script src="../../../bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js"></script>

    <title>Double Chill</title>
    <link rel="stylesheet" href="asm/css/style.css">
</head>

<body ng-app="myapp">
    <div ng-controller="myctrl">
        <div class="top">
            <div class="container d-flex justify-content-between py-4 ">
                <div class="row">
                    <div class="logo-search d-flex align-items-center col-sm-12 col-md-4">
                        <img height="50px" src="https://www.thethaodaiviet.vn/public/client/images/logo.png?v=1.0.0"
                            alt="">
                        <div class="input-group ms-4 h-50">
                            <input type="text" class="form-control rounded-start-pill" placeholder="Bạn tìm gì?..."
                                aria-label="Recipient's username" aria-describedby="basic-addon2" ng-model="search">
                            <span class="input-group-text rounded-end-pill bg-danger text-white" id="basic-addon2"
                                data-bs-toggle="modal" data-bs-target="#exampleModal">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-search" viewBox="0 0 16 16">
                                    <path
                                        d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
                                </svg>
                            </span>
                        </div>
                    </div>
                    <div class="contact d-flex align-items-center col-sm-12 col-md-8">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-telephone-fill" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z" />
                        </svg>
                        <div class="phone ms-4 me-4">
                            <span class="fw-bold">HOTLINE: <span class="text-danger">1900.6753</span></span>
                            <p>Hỗ trợ 24/7 (nhanh chóng tiện lợi)</p>
                        </div>
                        <div class="cart d-flex align-items-center border px-3 py-2 border-1 rounded-pill">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-cart" viewBox="0 0 16 16">
                                <path
                                    d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2" />
                            </svg>
                            <!-- <span
                            class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                            99+
                            <span class="visually-hidden">unread messages</span>
                        </span> -->
                            Giỏ hàng
                        </div>
                        <div
                            class="category d-flex align-items-center border border-1 rounded-pill text-white bg-danger px-3 py-2 ms-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-list" viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                    d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5" />
                            </svg>
                            Danh mục sản phẩm
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bottom bg-body-tertiary fw-bold" style="font-size: 12px;">
            <div class="container">
                <nav class="navbar navbar-expand-lg ">
                    <div class="container-fluid">
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                            aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav me-auto mb-2 mb-lg-0 mx-auto">
                                <li class="nav-item">
                                    <a class="nav-link" href="#">GHẾ MASSAGE</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">MÁY CHẠY BỘ ĐIỆN</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">GIÀN TẠ TẬP THỂ HÌNH</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">XE ĐẠP TẬP</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">PHỤ KIỆN TẬP GYM</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">THIẾT BỊ THỂ THAO NGOÀI TRỜI</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">GIÀY, QUẢ BÓNG ĐÁ</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
        <img class="img-fluid"
            src="https://www.thethaodaiviet.vn/upload/banner/banner-danh-muc-gian-1920x400.jpg?v=1.0.0"></img>

        <div class="container mt-3">
            <div class="filter d-flex justify-content-between">
                <div class="tragop d-flex align-items-center">
                    <p class="fw-bold my-auto me-3 w-100">BỘ LỌC:</p>
                    <select ng-model="high" ng-change="filterByPrice()" class="form-select"
                        aria-label="Default select example" style="width:max-content;">
                        <option value="1">Dưới 5 triệu</option>
                        <option value="2">Trên 5 triệu</option>
                    </select>
                    <div class="form-check form-check-inline ms-3 w-100">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"
                            ng-model="selected" ng-change="filterDiscount()" ng-model="selected"
                            ng-change="filterDiscount()">
                        <label class="form-check-label" for="flexCheckDefault">
                            Trả góp 0%
                        </label>
                    </div>
                </div>
                <select ng-model="sortOrder" class="form-select" aria-label="Default select example"
                    style="width: 14%;">
                    <option selected value="Giá tăng">Giá thấp - cao</option>
                    <option value="Giá giảm">Giá cao - thấp</option>
                </select>
            </div>
        </div>

        <div class="container mt-4">
            <div class="row">
                <div class="col-md-3 border g-3"
                    ng-repeat="p in productFilter | orderBy : sortOrderFunc | filter:priceFilter">
                    <img class="img-fluid" src="{{p.image}}" alt="">
                    <h4>{{p.name}}</h4>
                    <p class="text-danger text-center fw-bold border-top">{{p.price | currency : '' : 0}}đ</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        angular.module('myapp', []).controller('myctrl', function ($scope, $http) {
            $scope.products = [];
            $http.get("http://localhost:3000/products").then(function (reponse) {
                $scope.products = reponse.data;
                $scope.productFilter = $scope.products;
                console.log($scope.products);
            });

            $scope.sortOrder = 'Giá tăng';
            $scope.high = '1';

            $scope.sortOrderFunc = function (product) {
                switch ($scope.sortOrder) {
                    case 'Giá tăng':
                        return product.price;
                    case 'Giá giảm':
                        return -product.price;
                    default:
                        return 0;
                }
            };

            $scope.filterByPrice = function () {
                if ($scope.high == '1') {
                    $scope.priceFilter = function (product) {
                        return product.price < 5000000;
                    };
                } else {
                    $scope.priceFilter = function (product) {
                        return product.price > 5000000;
                    };
                }
            };

            $scope.filterByPrice();

            $scope.filterDiscount = function () {
                if ($scope.selected) {
                    $scope.productFilter = $scope.products.filter(function (product) {
                        console.log(product.tragop === "0");
                        return product.tragop === "0";
                    });
                } else {
                    $scope.productFilter = $scope.products;
                }
            };
        });
    </script>

</body>